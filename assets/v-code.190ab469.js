import{_ as v,o as n,c as a,a as o,q as p,s as f,a2 as C,m as d,v as c,b as h,w as m,T as u,H as g,K as _,L as x,t as y}from"./app.dd1fa7be.js";const E={data(){return{hovering:!1,isExpanded:!1,fixedControl:!1,scrollParent:null,langConfig:{"hide-text":"\u9690\u85CF\u4EE3\u7801","show-text":"\u663E\u793A\u4EE3\u7801"}}},props:["componentName","quote"],methods:{scrollHandler(){const{top:e,bottom:t,left:l}=this.$refs.meta.getBoundingClientRect();this.fixedControl=t>document.documentElement.clientHeight&&e+44<=document.documentElement.clientHeight},removeScrollHandler(){this.scrollParent&&this.scrollParent.removeEventListener("scroll",this.scrollHandler)}},computed:{lang(){return this.$route.path.split("/")[1]},blockClass(){return`demo-${this.lang} demo-${this.$router.currentRoute.value.path.split("/").pop()}`},controlText(){return this.isExpanded?this.langConfig["hide-text"]:this.langConfig["show-text"]},codeArea(){return this.$el.getElementsByClassName("meta")[0]},codeAreaHeight(){return this.$el.getElementsByClassName("description").length>0?this.$el.getElementsByClassName("description")[0].clientHeight+this.$el.getElementsByClassName("sourceCode")[0].clientHeight+20:this.$el.getElementsByClassName("sourceCode")[0].clientHeight}},watch:{isExpanded(e){if(this.codeArea.style.height=e?`${this.codeAreaHeight+1}px`:"0",!e){this.fixedControl=!1,this.$refs.control.style.left="0",this.removeScrollHandler();return}setTimeout(()=>{this.scrollParent=document.querySelector(".page-component__scroll > .el-scrollbar__wrap"),this.scrollParent&&this.scrollParent.addEventListener("scroll",this.scrollHandler),this.scrollHandler()},200)}},mounted(){this.$nextTick(()=>{let e=this.$el.getElementsByClassName("sourceCode")[0];this.$el.getElementsByClassName("description").length===0&&(e.style.width="100%",e.borderRight="none")})},beforeDestroy(){this.removeScrollHandler()}},H={style:{padding:"24px"}},$={class:"meta",ref:"meta"},N={key:0,class:"description"},k={class:"sourceCode"},B={class:"text-slide-block"};function b(e,t,l,w,s,r){return n(),a("div",{class:g(["demo-block",[r.blockClass,{hover:s.hovering}]]),onMouseenter:t[1]||(t[1]=i=>s.hovering=!0),onMouseleave:t[2]||(t[2]=i=>s.hovering=!1)},[o("div",H,[l.componentName?(n(),p(C(l.componentName),f({key:0,quote:l.quote},e.$attrs),null,16,["quote"])):d("",!0)]),o("div",$,[e.$slots.default?(n(),a("div",N,[c(e.$slots,"default")])):d("",!0),o("div",k,[c(e.$slots,"sourceCode")])],512),o("div",{class:"demo-block-control",ref:"control",onClick:t[0]||(t[0]=i=>s.isExpanded=!s.isExpanded)},[h(u,{name:"arrow-slide"},{default:m(()=>[o("i",{class:g([e.iconClass,{hovering:s.hovering}])},null,2)]),_:1}),h(u,{name:"text-slide"},{default:m(()=>[o("div",B,[_(o("span",null,y(r.controlText),513),[[x,s.hovering]])])]),_:1})],512)],34)}var S=v(E,[["render",b],["__file","v-code.vue"]]);export{S as default};
